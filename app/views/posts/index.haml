%h1 Posts

- if @posts.nil?
  %p No posts.
- else
  %table
    %thead
      %tr
        - if @is_admin
          %th Author
        %th Title
        %th Date
        %th Published
        %th{colspan: 2}
    %tbody
      - @posts.each do |post|
        %tr
          - if @is_admin
            %td= post.user_id
          %td.post-title= link_to (truncate post.title), post
          %td.post-date= post.created_at.strftime("%Y-%m-%d")
          %td{class: post.published ? "pub-yes" : "pub-no"}
            = post.published ? "Y" : "N"
          %td= link_to 'Edit', edit_post_path(post)
          %td= link_to "Delete", post, method: :delete, |
            data: { confirm: 'Are you sure?' }
  = will_paginate @posts
